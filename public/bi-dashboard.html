<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BI Dashboard â€“ AgroDigital5.0â„¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    body { background: #f5f7fa; }
    .card-bi { border-radius: 22px; box-shadow: 0 2px 16px #222e3a22; }
    .summary { font-size:1.15em; }
    .heatmap { min-height:170px; background:linear-gradient(90deg,#e3f5e1 30%,#b5e4fa 100%); border-radius:12px; }
    .chartbox { min-height:190px; }
    @media (max-width:800px) {
      .side-menu { position:relative; width:100%; min-height:auto;}
      .main-content { margin-left:0;}
    }
  </style>
</head>
<body>
  <div class="container-fluid p-0">
    <div class="row gx-0">
      <!-- SideMenu reutilizado do admin-panel -->
      <div class="col-lg-2 bg-dark side-menu p-3 text-white">
        <img src="assets/logo-ad5.png" height="36" class="mb-4">
        <nav class="nav flex-column">
          <a class="nav-link text-white" href="admin-panel.html">Dashboard</a>
          <a class="nav-link active text-primary" href="bi-dashboard.html"><b>BI & Analytics</b></a>
          <a class="nav-link text-white" href="#">Manage Tokens</a>
          <a class="nav-link text-white" href="#">Campaigns</a>
          <a class="nav-link text-white" href="#">Security</a>
        </nav>
        <div class="footer-admin mt-5 text-center text-secondary">
          <hr>
          Board: AJ. & IA Cael.<br>Â©ï¸ 2025 AgroDigital5.0â„¢
        </div>
      </div>
      <!-- ConteÃºdo BI -->
      <div class="col-lg-10 main-content p-4">
        <h3 class="mb-4">Business Intelligence Panel</h3>
        <div class="row g-3">
          <!-- Key Metrics -->
          <div class="col-md-4">
            <div class="card card-bi p-3">
              <div class="summary">ğŸŒ <b>Global Users:</b> <span id="bi-users">1987</span></div>
              <div class="summary">ğŸ“ˆ <b>Current Online:</b> <span id="bi-online">31</span></div>
              <div class="summary">ğŸŸ© <b>Most Accessed Market:</b> <span id="bi-market">CornToken</span></div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card card-bi p-3">
              <div class="summary">ğŸ’¸ <b>Total Volume (USD):</b> <span id="bi-volume">$5,240,000</span></div>
              <div class="summary">ğŸ•’ <b>Last 24h:</b> <span id="bi-last">$19,840</span></div>
              <div class="summary">ğŸ‘¤ <b>Avg. Session:</b> <span id="bi-session">7min</span></div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card card-bi p-3">
              <div class="summary">ğŸŒ <b>Top Country:</b> <span id="bi-country">Brazil</span></div>
              <div class="summary">ğŸ›¡ï¸ <b>Security Events:</b> <span id="bi-sec">0</span></div>
              <div class="summary">âš¡ <b>Heatmap Engagement:</b> <span id="bi-heat">High</span></div>
            </div>
          </div>
        </div>
        <!-- Analytics Chart & Heatmap -->
        <div class="row mt-4">
          <div class="col-lg-7">
            <div class="card card-bi chartbox p-3">
              <canvas id="trafficChart"></canvas>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="card card-bi heatmap p-3 d-flex align-items-center justify-content-center">
              <span id="bi-heatmap">[Heatmap here]</span>
            </div>
          </div>
        </div>
        <!-- API/Integration Alert -->
        <div class="alert alert-success mt-4">
          <b>API Ready:</b> Plug your Google Analytics, Telegram, WhatsApp, Web3 or Sheets!  
          <br>Ask Cael for integration, or add API keys in <b>Settings</b>.
        </div>
      </div>
    </div>
  </div>
  <!-- Chart.js para grÃ¡ficos -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Demo Chart (substitua por dados reais com API)
    const ctx = document.getElementById('trafficChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
        datasets: [{
          label: 'Site Traffic',
          data: [95, 148, 173, 129, 202, 189, 241],
          borderWidth: 3
        }]
      },
      options: {
        plugins: { legend: {display: false} },
        responsive: true,
        scales: { y: { beginAtZero: true } }
      }
    });
  </script>
</body>
</html>
